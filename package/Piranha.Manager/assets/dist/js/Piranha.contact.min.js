piranha.contact=new Vue({el:"#contacts",data:{loading:!0,contentId:null,items:[],state:"all"},computed:{filteredItems:function(){var n=this;return this.items.filter(function(){if(n.state==="all")return!0})}},methods:{load:function(n){var t=this;n||(n="");fetch(piranha.baseUrl+"manager/api/contact/"+n).then(function(n){return n.json()}).then(function(n){t.contentId=n.contentId;t.items=n.contacts}).catch(function(n){console.log("error:",n)})},remove:function(n){var t=this;fetch(piranha.baseUrl+"manager/api/contact/delete/"+n).then(function(n){return n.json()}).then(function(n){piranha.notifications.push(n);t.load(t.contentId)}).catch(function(n){console.log("error:",n)})},setStatus:function(n){this.state=n}},updated:function(){this.loading=!1}});